# Расширение модели hr.employee 1c 
# Изменения в Odoo

- На форме создания и редактирования сотрудника появилась кнопка "Import from 1C", а также поля "Snils","INN","Citizenship","Passport details"
![image](https://github.com/kkitami/from-1c-to-odoo/assets/149528561/1a50f81d-7b28-4025-90c0-887fefebe1f3)
- При нажатии на кнопку "Import from 1C" открывается окно, в котором можно выбрать по какому параметру производить запрос(по ФИО или по табельному номеру ). Для каждого установлен свой флажок, позволяющий по необходимости скрывать поля.
  ![image](https://github.com/kkitami/from-1c-to-odoo/assets/149528561/13aeb980-6ab4-4fb6-9e3d-adefe24c5ea1)
- Если при нажатии на кнопку "Выполнить" в окне вввода параметра для запроса будут введены правильные параметры и сотрудник будет найден в информационной базе 1с, то будут заполнены соответствующие поля:
 ФИО,
 Дата рождения,
 Паспортные данные,
 СНИЛС,
 ИНН,
 Адрес проживания,
  Контактный телефон,
  Гражанство,
  ![image](https://github.com/kkitami/from-1c-to-odoo/assets/149528561/2bf93f76-ee10-49df-8ca7-2c424e22fc92)
  ![image](https://github.com/kkitami/from-1c-to-odoo/assets/149528561/fc68a180-8b3a-4313-915c-32d077167e2a)
# Кофигурация
- Используется конфигурационный файл odoo.conf
- В файле Python необходимо указать значение переменной baseUrl({url}/{IBName}/hs/personaldata/v1/getpassportdata)

# Установка и запуск

Odoo
При запуске odoo (файл odoo-bin) нужно передать конфигурационный файл с параметром -c
Пример:
-c C:\Users\...\conf\odoo.conf ...

В Odoo установить модуль employee (/employee) в папку с модулями, обновить список приложений, активировать модуль private_employee в списке приложений Odoo. В настройках групп пользователей определить необходимого пользователя (кто будет иметь доступ к импорту из 1с) в группу 1c import group
![image](https://github.com/kkitami/from-1c-to-odoo/assets/149528561/819776c8-2698-4228-afbf-f88299d3f2e4)
 В 1С:Предприятие:
  Установить расширение (1c/СервисДляПолученияДанныхСотрудников.cfe):
Администрирование -> Печатные формы, отчеты и обработки -> Расширения -> Добавить из файла
  Установить обработку для открытия папок интерфейсу Odata (1c/СервисДляПолученияДанныхСотрудников.cfe)
 ![image](https://github.com/kkitami/from-1c-to-odoo/assets/149528561/f3b8be4e-0832-4622-a0ef-efe7ced05604)
 ![image](https://github.com/kkitami/from-1c-to-odoo/assets/149528561/7f38e022-8c79-45e9-9297-3f03698b8dae)

Файл -> Открыть -> Выбрать (1c/odata.epf) -> Выбрать все -> Сохранить

Опубликовать ИБ на веб-сервере

![image](https://github.com/kkitami/from-1c-to-odoo/assets/149528561/d8c969a4-11a1-4ccd-aa6c-9a8729b7f7cb)


